<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-treetable/3.2.0/css/jquery.treetable.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-treetable/3.2.0/css/jquery.treetable.theme.default.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha256-YLGeXaapI0/5IgZopewRJcFXomhRMlYYjugPLSyNjTY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.css" />
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/toastr@2.1.4/toastr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-treetable@3.2.0-1/jquery.treetable.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js" integrity="sha256-fzFFyH01cBVPYzl16KT40wqjhgPtq6FFUB6ckN2+GGw=" crossorigin="anonymous"></script>
<script src="https://unpkg.com/popper.js@1/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@4"></script>
<style>
	.cat-option-text {
		cursor: pointer;
		text-decoration: underline;
		color: blue;
		font-size: 0.8rem;
	}
	.card-header {
		padding: .2rem .7rem;
	}
	.card-body {
		font-size: 0.8rem;
	}
	.card-footer {
		padding: .2rem .7rem;
	}
	#last_box {
		text-align:center;
	}
	#d_consense {
		position: absolute;
		padding: 0rem 12rem 0rem 12rem;
		font-size: 1rem;
		
	}
	table.treetable {
		font-size: 1em;
	}
	table.thintable td, th {
		border: 1px solid black;
		padding: 3px;
	}
	table.thintable {
		border-collapse: collapse;
	}
</style>

<!-- You must include crowd-form so that your task submits answers to MTurk -->
<crowd-form>
	<div class="container-fluid" id="d_consense" >
	
		<h2 align ="center"><b>Consent Form</b></h2>
		<hr>
		<p>Welcome to our crowdsourcing experiment on categorizing and describing nouns! <br/>We are interested in organizing people’s everyday commonsense knowledge about objects and nouns prevalent in communication in the English language. </p>
		<hr>
		<h4><b>Task Brief:</b></h4>
		<p>You will be presented with a noun and context sentences, and be asked to:</p>
		<ol>
		<li>Iteratively choose relevant categories for the noun (such as whether a noun is "LIVING" vs "NONLIVING"  or "REAL" vs "ABSTRACT", etc)</li>
		<li>Choose a representative group / "kind" that best relates to the noun (such as a knife being a "MAN MADE OBJECT" or a tiger being a "MAMMAL")</li>
		<li>Fill in layman’s descriptions or attributes for the noun (such as a "tiger" has 4 legs, is found in the wild, etc or "time" can be measured by a clock/watch, signifies passing of events, etc)</li>
		</ol>
		<p><b> We estimate that the task should take you about 10 minutes to complete.</b></p>
		
		<hr>
		<h4><b>Consent: </b></h4>
		<p>Your participation in this experiment is voluntary. The study does not require any private information and your responses will be kept strictly confidential. If at any point of the task you wish to not continue, you have the right to withdraw without providing any reason. In case you would like to contact the Principal Investigators regarding this research, please e-mail Shantanu Jaiswal at <a href = "mailto: jaiswals_shantanu@scei.a-star.edu.sg">jaiswals_shantanu@scei.a-star.edu.sg</a> or Kenneth Kwok at <a href = "mailto: kenkwok@ihpc.a-star.edu.sg">kenkwok@ihpc.a-star.edu.sg</a>. 
</p>
<hr>
<p>By clicking the button below, you acknowledge that your participation in this experiment is voluntary, that you are at least 18 years of age, and that you are aware that you have the option to terminate your participation in the experiment at any time and for any reason. 
</p>

        <input type="radio" name="c1" id="check_consense_yes" /> I consent and wish to proceed to the task.
        <br />
        <input type="radio" name="c1" id="check_consense_no" /> I do not consent and do not wish to participate in the task.
        <hr />
        <a href="#" onclick="showHIT()" class="btn btn-info" id="link_consense">Continue</a>
    </div>

    <div class="container-fluid" style="display:none" id="d_hit">
        <div class="row mb-3" style="display:none" id="row_taskarea">
            <div class="col-3">
                <div class="card">
                    <div class="card-header">
                        Provided Noun Information
                    </div>
                    <div class="card-body">
                        <h4>Noun:</h4>
                        <p>${instance_name}</p>
                        <h4>Example sentences:</h4>
                        <ul>
                            <li><p>${instance_sentence1}</p></li>
                            <li><p>${instance_sentence2}</p></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-header">
                        Task page
                    </div>
                    <div class="card-body">
                        <input type="hidden" name="SelectedInstance" value="" />

                        <div id="welcome_page" style="display:none">
                            <p><a href="#" onclick="stage_1()" class="btn btn-info">Start</a></p>
                        </div>

                        <div id="stage_1_head" style="display:none">
                            <h5><b>Subtask 1:</b> Select appropriate categories for "${instance_name}" given its context in the example sentences on the left</h5>
                            <a href="#" onClick="toggleInstruction('instruction_1')">Toggle additional instructions...</a><br />
                            <div id="instruction_1">
                                <ul>
                                    <li>Categories will auto-update upon selection. Terminal categories will not.</li>
                                    <li>To know more about a category, click on it to open a brief description and view sample nouns.</li>
                                    <li>Categories can be deselected in case you wish to undo / realize a previously incorrect selection.</li>
                                </ul>
                            </div>
                            <br />
                        </div>
                        <div id="stage_2_head" style="display:none">
                            <h5><b>Subtask 2:</b> Assign an appropriate "kind" for this instance.</h5>
                            <a href="#" onClick="toggleInstruction('instruction_2')">Toggle additional instructions...</a><br />
                            <div id="instruction_2">
                                <ul>
                                    <li>A "kind" refers to a suitable group to which a noun belongs.</li>
                                    <ul>
                                        <li>'tiger','elephant' -> "MAMMAL" kind</li>
                                        <li>'gear', 'vehicle' -> "VEHICLE_PARTS kind</li>
                                        <li>'time', 'length' -> "ABSTRACT_UNIVERSAL_MEASURE"</li>
                                    </ul>
                                    <li>Given a choice between two kinds, choose the more specific kind (e.g. given tiger, 'MAMMAL' is more appropriate than 'ANIMAL')</li>
                                    <li>If unsure, see whether the noun matches with sample instances of provided kinds.</li>
                                </ul>
                            </div>
                            <br />
                        </div>

						<!-- Start java generated html -->
						<div id="cat_childset_Entity_0">
							<strong>Select a sub-category under Entity:</strong><br>
							<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
							<tr>
									<td nowrap><input type="radio" name="cat_radio_Entity_0" value="cat_Abstract">&nbsp;<span id="cat_Abstract">Abstract</span></td>
									<td id="td_description-cat_Abstract"></td>
									<td id="td_examples-cat_Abstract"></td>
							</tr>
							<tr>
									<td nowrap><input type="radio" name="cat_radio_Entity_0" value="cat_Real">&nbsp;<span id="cat_Real">Real</span></td>
									<td id="td_description-cat_Real"></td>
									<td id="td_examples-cat_Real"></td>
							</tr>
							</table>
							<br>
						</div>
						<div id="cat_childset_Entity_1">
								<strong>Select a sub-category under Entity:</strong><br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Entity_1" value="cat_Individual">&nbsp;<span id="cat_Individual">Individual</span></td>
										<td id="td_description-cat_Individual"></td>
										<td id="td_examples-cat_Individual"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Entity_1" value="cat_Collective">&nbsp;<span id="cat_Collective">Collective</span></td>
										<td id="td_description-cat_Collective"></td>
										<td id="td_examples-cat_Collective"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Entity_dialog" style="display:none">
								<div id="cat_Entity_description">The root node</div>
								<div id="cat_Entity_examples">woman, law, football</div>
								<div id="cat_Entity_features">[{"feature_name":"inext","example":"bird (if the entity is \"robin\")","explain":"The extension of the word \"dog\" is the set of all (past, present and future) dogs in the world: e.g. Fido, Rover, Lassie, Rex, and so on."},{"feature_name":"haspart","example":"Trunk (an elephant has a trunk)","explain":"Has a part"},{"feature_name":"part_of","example":"Herd (an elephant is part of a herd)","explain":"Describes any collective the entity belongs to"},{"feature_name":"exp","example":"(love is experienced as) a warm fuzzy feeling in your heart","explain":"Experienced as ..."},{"feature_name":"prototype","example":"robin (if the category is)","explain":"The first example that comes to mind when thinking of this category"},{"feature_name":"source","example":"","explain":"Where does this entity come from?"},{"feature_name":"associated_with","example":"","explain":"Associated with"}]</div>
						</div>
						<div id="cat_childset_Abstract_0">
								<strong>Select a sub-category under Abstract:</strong> (<a href="#" onClick="backTo('Abstract')">Deselect Abstract</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Abstract_0" value="cat_Ideal">&nbsp;<span id="cat_Ideal">Ideal</span></td>
										<td id="td_description-cat_Ideal"></td>
										<td id="td_examples-cat_Ideal"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Abstract_0" value="cat_Propositional">&nbsp;<span id="cat_Propositional">Propositional</span></td>
										<td id="td_description-cat_Propositional"></td>
										<td id="td_examples-cat_Propositional"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Abstract_0" value="cat_Quantity">&nbsp;<span id="cat_Quantity">Quantity</span></td>
										<td id="td_description-cat_Quantity"></td>
										<td id="td_examples-cat_Quantity"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Abstract_0" value="cat_Irreal">&nbsp;<span id="cat_Irreal">Irreal</span></td>
										<td id="td_description-cat_Irreal"></td>
										<td id="td_examples-cat_Irreal"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Abstract_0" value="cat_Quantity">&nbsp;<span id="cat_Quantity">Quantity</span></td>
										<td id="td_description-cat_Quantity"></td>
										<td id="td_examples-cat_Quantity"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Abstract_dialog" style="display:none">
								<div id="cat_Abstract_description">Something that doesn't exist physically.</div>
								<div id="cat_Abstract_examples">law, sentence, safety</div>
								<div id="cat_Abstract_features">[{"feature_name":"unknown","example":"","explain":"Placeholder for any features the user is unable to classify."}]</div>
						</div>
						<div id="cat_childset_Real_0">
								<strong>Select a sub-category under Real:</strong> (<a href="#" onClick="backTo('Real')">Deselect Real</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Real_0" value="cat_Physical">&nbsp;<span id="cat_Physical">Physical</span></td>
										<td id="td_description-cat_Physical"></td>
										<td id="td_examples-cat_Physical"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Real_0" value="cat_Temporal">&nbsp;<span id="cat_Temporal">Temporal</span></td>
										<td id="td_description-cat_Temporal"></td>
										<td id="td_examples-cat_Temporal"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Real_0" value="cat_Sentient">&nbsp;<span id="cat_Sentient">Sentient</span></td>
										<td id="td_description-cat_Sentient"></td>
										<td id="td_examples-cat_Sentient"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_childset_Real_1">
								<strong>Select a sub-category under Real:</strong> (<a href="#" onClick="backTo('Real')">Deselect Real</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Real_1" value="cat_Natural">&nbsp;<span id="cat_Natural">Natural</span></td>
										<td id="td_description-cat_Natural"></td>
										<td id="td_examples-cat_Natural"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Real_1" value="cat_Man-made/Social">&nbsp;<span id="cat_Man-made/Social">Man-made/Social</span></td>
										<td id="td_description-cat_Man-made/Social"></td>
										<td id="td_examples-cat_Man-made/Social"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Real_dialog" style="display:none">
								<div id="cat_Real_description">A real object or event.</div>
								<div id="cat_Real_examples">woman, nurse, program</div>
								<div id="cat_Real_features">[]</div>
						</div>
						<div id="cat_Individual_dialog" style="display:none">
								<div id="cat_Individual_description">An entity that occurs as a singular or is not compositional.</div>
								<div id="cat_Individual_examples">woman, football, cake</div>
								<div id="cat_Individual_features">[]</div>
						</div>
						<div id="cat_Ideal_dialog" style="display:none">
								<div id="cat_Ideal_description">An abstract entity that represents a desired state. For example, 'order' in 'law and order' </div>
								<div id="cat_Ideal_examples">law, justice, standard</div>
								<div id="cat_Ideal_features">[]</div>
						</div>
						<div id="cat_Propositional_dialog" style="display:none">
								<div id="cat_Propositional_description">A statement or an abstract component of speech- such as sentence</div>
								<div id="cat_Propositional_examples">discourse, sentence</div>
								<div id="cat_Propositional_features">[]</div>
						</div>
						<div id="cat_Quantity_dialog" style="display:none">
								<div id="cat_Quantity_description">An entity that can be either measured, is numerical or is related to measurement</div>
								<div id="cat_Quantity_examples">second, two, time</div>
								<div id="cat_Quantity_features">[]</div>
						</div>
						<div id="cat_Irreal_dialog" style="display:none">
								<div id="cat_Irreal_description">An entity that doesn't exist in the world/imaginary/mythological</div>
								<div id="cat_Irreal_examples">unicorn, centaur</div>
								<div id="cat_Irreal_features">[]</div>
						</div>
						<div id="cat_Quality_dialog" style="display:none">
								<div id="cat_Quality_description">An entity relating to an observed quality such as kindness</div>
								<div id="cat_Quality_examples">reliability, kindness, safety</div>
								<div id="cat_Quality_features">[]</div>
						</div>
						<div id="cat_childset_Physical_0">
								<strong>Select a sub-category under Physical:</strong> (<a href="#" onClick="backTo('Physical')">Deselect Physical</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Physical_0" value="cat_Immoveable/Stationary">&nbsp;<span id="cat_Immoveable/Stationary">Immoveable/Stationary</span></td>
										<td id="td_description-cat_Immoveable/Stationary"></td>
										<td id="td_examples-cat_Immoveable/Stationary"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Physical_0" value="cat_Nonstationary">&nbsp;<span id="cat_Nonstationary">Nonstationary</span></td>
										<td id="td_description-cat_Nonstationary"></td>
										<td id="td_examples-cat_Nonstationary"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_childset_Physical_1">
								<strong>Select a sub-category under Physical:</strong> (<a href="#" onClick="backTo('Physical')">Deselect Physical</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Physical_1" value="cat_Living">&nbsp;<span id="cat_Living">Living</span></td>
										<td id="td_description-cat_Living"></td>
										<td id="td_examples-cat_Living"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Physical_1" value="cat_Nonliving">&nbsp;<span id="cat_Nonliving">Nonliving</span></td>
										<td id="td_description-cat_Nonliving"></td>
										<td id="td_examples-cat_Nonliving"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Physical_dialog" style="display:none">
								<div id="cat_Physical_description">Describes physical objects that exist in reality.</div>
								<div id="cat_Physical_examples">rock, automobile, gasoline</div>
								<div id="cat_Physical_features">[{"feature_name":"shape","example":"round","explain":"The general shape of an object (mostly geometrical shapes, but exceptions may exist)"},{"feature_name":"size","example":"house-sized","explain":"The size of an object (use vehicles or buildings for comparison (ex: elephant-\u003e big-\u003e truck sized)"},{"feature_name":"color","example":"red","explain":"The common color of an object"},{"feature_name":"material","example":"steel","explain":"The material property (steel, paper, fibers, biological tissue, etc)"},{"feature_name":"texture","example":"rough","explain":"The texture of an object (smooth, rough, etc)"},{"feature_name":"odor","example":"smelly","explain":"The common odor associated with object"},{"feature_name":"taste","example":"sweet","explain":"The common taste associated with object"},{"feature_name":"location","example":"Underwater","explain":"The common location of an object"},{"feature_name":"strength","example":"can lift a car","explain":"Strength of the object"},{"feature_name":"state","example":"plasma","explain":"The physical state of an object (gas, liquid, solid...)"}]</div>
						</div>
						<div id="cat_Sentient_dialog" style="display:none">
								<div id="cat_Sentient_description">A human type with specific traits and goals.</div>
								<div id="cat_Sentient_examples">woman, lawyer, secretary, company</div>
								<div id="cat_Sentient_features">[{"feature_name":"internal_trait","example":"calculative","explain":"The distinctive trait of a particular sentient. For example, lawyers are commonly quick-thinking, etc"},{"feature_name":"goal","example":"score goals (for football strikers)","explain":"The goal of a sentient. For example, lawyers have the goal to win cases for clients."}]</div>
						</div>
						<div id="cat_Natural_dialog" style="display:none">
								<div id="cat_Natural_description">A naturally occuring entity (not created/developed by human)</div>
								<div id="cat_Natural_examples">woman, rock, bird</div>
								<div id="cat_Natural_features">[]</div>
						</div>
						<div id="cat_Man-made/Social_dialog" style="display:none">
								<div id="cat_Man-made/Social_description">An entity created by humans or arising from society.</div>
								<div id="cat_Man-made/Social_examples">laywer, secretary, clinic</div>
								<div id="cat_Man-made/Social_features">[{"feature_name":"function","example":"open cans (for can-openers)","explain":"Either what an object is used for, or what a person/sentient does"},{"feature_name":"requirement","example":"batteries (for most electronic toys)","explain":"The prerequisites or required tools or objects to function"},{"feature_name":"processing","example":"","explain":"The manner in which a SOCIAL entity is processed/created/comes to be "}]</div>
						</div>
						<div id="cat_Living_dialog" style="display:none">
								<div id="cat_Living_description">Describes an entity that is alive</div>
								<div id="cat_Living_examples">tiger, amoeba, sunflower</div>
								<div id="cat_Living_features">[{"feature_name":"propagation","example":"live births","explain":"The source of a living object- example mammals are mainly through \u0027live births\u0027"},{"feature_name":"habitat","example":"Forests","explain":"Where the living entity is commonly found"},{"feature_name":"physiology","example":"Covered in scales and posessing fins.","explain":"What the living entity is composed of/body form "},{"feature_name":"age","example":"","explain":"The age of a living entity"}]</div>
						</div>
						<div id="cat_Nonliving_dialog" style="display:none">
								<div id="cat_Nonliving_description">A non-living entity.</div>
								<div id="cat_Nonliving_examples">rock, oil, toolbox</div>
								<div id="cat_Nonliving_features">[{"feature_name":"Expiration date","example":"12/2/2019","explain":"Describes a previously determined date after which something should no longer be used."}]</div>
						</div>
						<div id="cat_Immoveable/Stationary_dialog" style="display:none">
								<div id="cat_Immoveable/Stationary_description">Describes things that are normally immobile, attached to the earth and moved only at great effort.</div>
								<div id="cat_Immoveable/Stationary_examples">building, tree, mountain, boulder</div>
								<div id="cat_Immoveable/Stationary_features">[{}]</div>
						</div>
						<div id="cat_childset_Nonstationary_0">
								<strong>Select a sub-category under Nonstationary:</strong> (<a href="#" onClick="backTo('Nonstationary')">Deselect Nonstationary</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Nonstationary_0" value="cat_Selfmoving">&nbsp;<span id="cat_Selfmoving">Selfmoving</span></td>
										<td id="td_description-cat_Selfmoving"></td>
										<td id="td_examples-cat_Selfmoving"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Nonstationary_0" value="cat_Nonselfmoving">&nbsp;<span id="cat_Nonselfmoving">Nonselfmoving</span></td>
										<td id="td_description-cat_Nonselfmoving"></td>
										<td id="td_examples-cat_Nonselfmoving"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Nonstationary_dialog" style="display:none">
								<div id="cat_Nonstationary_description">Describes things that are able to move or be moved easily.</div>
								<div id="cat_Nonstationary_examples"></div>
								<div id="cat_Nonstationary_features">[{}]</div>
						</div>
						<div id="cat_Selfmoving_dialog" style="display:none">
								<div id="cat_Selfmoving_description">Describes things that are normally in motion or designed for motion, in some cases with no apparent initial source.</div>
								<div id="cat_Selfmoving_examples">dog, truck, bird</div>
								<div id="cat_Selfmoving_features">[{"feature_name":"Energy source","example":"Food","explain":"Describes the source of energy which enables the object to move on its own."}]</div>
						</div>
						<div id="cat_Nonselfmoving_dialog" style="display:none">
								<div id="cat_Nonselfmoving_description">Describes things that are normally immobile but can be moved with slight effort.</div>
								<div id="cat_Nonselfmoving_examples">brick, rock, ball</div>
								<div id="cat_Nonselfmoving_features">[{"feature_name":"Cause of motion","example":"A ball is thrown","explain":"Describes the action(s) necessary for the object to be moved."}]</div>
						</div>
						<div id="cat_childset_Collective_0">
								<strong>Select a sub-category under Collective:</strong> (<a href="#" onClick="backTo('Collective')">Deselect Collective</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Collective_0" value="cat_Mass">&nbsp;<span id="cat_Mass">Mass</span></td>
										<td id="td_description-cat_Mass"></td>
										<td id="td_examples-cat_Mass"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Collective_0" value="cat_Set">&nbsp;<span id="cat_Set">Set</span></td>
										<td id="td_description-cat_Set"></td>
										<td id="td_examples-cat_Set"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Collective_0" value="cat_Structure">&nbsp;<span id="cat_Structure">Structure</span></td>
										<td id="td_description-cat_Structure"></td>
										<td id="td_examples-cat_Structure"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Collective_dialog" style="display:none">
								<div id="cat_Collective_description">Describes a group of entities as a whole.</div>
								<div id="cat_Collective_examples">dog, truck</div>
								<div id="cat_Collective_features">[{"feature_name":"countability","example":"Countable","explain":"Explains if the collective entity is countable or not."}]</div>
						</div>
						<div id="cat_Mass_dialog" style="display:none">
								<div id="cat_Mass_description">Even the smallest amount is of the same material nature as the collective term (a drop of water is still water), and whose members are referred to only in terms of measurable units.</div>
								<div id="cat_Mass_examples">water, sand</div>
								<div id="cat_Mass_features">[{"feature_name":"Smallest element name","example":"grain","explain":"Describes the object in terms of the smallest amount of it."}]</div>
						</div>
						<div id="cat_Set_dialog" style="display:none">
								<div id="cat_Set_description">Each member of the set is the same kind as every other member.</div>
								<div id="cat_Set_examples">herd</div>
								<div id="cat_Set_features">[{}]</div>
						</div>
						<div id="cat_Structure_dialog" style="display:none">
								<div id="cat_Structure_description">Each member is of the same kind type as every other member; members have specified relations with one another.</div>
								<div id="cat_Structure_examples">company</div>
								<div id="cat_Structure_features">[{"feature_name":"hierarchy","example":"management,staff","explain":"describes the roles inside the structure"},{"feature_name":"roles","example":"managers are in charge of managing staff","explain":"explains the duty and responsibility of the role"}]</div>
						</div>
						<div id="cat_childset_Temporal_0">
								<strong>Select a sub-category under Temporal:</strong> (<a href="#" onClick="backTo('Temporal')">Deselect Temporal</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Temporal_0" value="cat_Relational">&nbsp;<span id="cat_Relational">Relational</span></td>
										<td id="td_description-cat_Relational"></td>
										<td id="td_examples-cat_Relational"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Temporal_0" value="cat_Nonrelational">&nbsp;<span id="cat_Nonrelational">Nonrelational</span></td>
										<td id="td_description-cat_Nonrelational"></td>
										<td id="td_examples-cat_Nonrelational"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Temporal_dialog" style="display:none">
								<div id="cat_Temporal_description">There is a time aspect to the entity in question.</div>
								<div id="cat_Temporal_examples">party, hurricane, winter</div>
								<div id="cat_Temporal_features">[{}]</div>
						</div>
						<div id="cat_childset_Relational_0">
								<strong>Select a sub-category under Relational:</strong> (<a href="#" onClick="backTo('Relational')">Deselect Relational</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Relational_0" value="cat_Event">&nbsp;<span id="cat_Event">Event</span></td>
										<td id="td_description-cat_Event"></td>
										<td id="td_examples-cat_Event"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Relational_0" value="cat_Stative">&nbsp;<span id="cat_Stative">Stative</span></td>
										<td id="td_description-cat_Stative"></td>
										<td id="td_examples-cat_Stative"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_childset_Relational_1">
								<strong>Select a sub-category under Relational:</strong> (<a href="#" onClick="backTo('Relational')">Deselect Relational</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Relational_1" value="cat_Mental">&nbsp;<span id="cat_Mental">Mental</span></td>
										<td id="td_description-cat_Mental"></td>
										<td id="td_examples-cat_Mental"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Relational_1" value="cat_Emotional">&nbsp;<span id="cat_Emotional">Emotional</span></td>
										<td id="td_description-cat_Emotional"></td>
										<td id="td_examples-cat_Emotional"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Relational_1" value="cat_Nonmental">&nbsp;<span id="cat_Nonmental">Nonmental</span></td>
										<td id="td_description-cat_Nonmental"></td>
										<td id="td_examples-cat_Nonmental"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Relational_dialog" style="display:none">
								<div id="cat_Relational_description">Verbs are attached here.</div>
								<div id="cat_Relational_examples">front, back, top</div>
								<div id="cat_Relational_features">[{"feature_name":"time","example":"2100 hours","explain":"describes when it happened."},{"feature_name":"cause","example":"The man fell down because he tripped on a rock","explain":"describes the cause of the event"},{"feature_name":"enablement","example":"The forest fires were caused by dense underbrush","explain":"describes what allowed an event to happen"},{"feature_name":"consequence","example":"Thus 1600 people perished in the fires","explain":"describes the consequences of the event"},{"feature_name":"sequel","example":"Subsequently more efforts were channeled into raising awareness for forest fires","explain":"describes subsequent events following the inital event"}]</div>
						</div>
						<div id="cat_Nonrelational_dialog" style="display:none">
								<div id="cat_Nonrelational_description">Temporal nouns (nouns that relate to time i.e, seasons) go here.</div>
								<div id="cat_Nonrelational_examples">winter, afternoon</div>
								<div id="cat_Nonrelational_features">[{}]</div>
						</div>
						<div id="cat_Stative_dialog" style="display:none">
								<div id="cat_Stative_description">Details verbs that often describe states that last for some time.</div>
								<div id="cat_Stative_examples">disagree, like, depend</div>
								<div id="cat_Stative_features">[]</div>
						</div>
						<div id="cat_Mental_dialog" style="display:none">
								<div id="cat_Mental_description">Mental Verbs refer to cognitive (that deals with logic) state in which actions are mostly abstract.</div>
								<div id="cat_Mental_examples">announce, schedule, prefer</div>
								<div id="cat_Mental_features">[]</div>
						</div>
						<div id="cat_Emotional_dialog" style="display:none">
								<div id="cat_Emotional_description">Describes verbs of emotional reaction:</div>
								<div id="cat_Emotional_examples">astonish, suprise</div>
								<div id="cat_Emotional_features">[]</div>
						</div>
						<div id="cat_Nonmental_dialog" style="display:none">
								<div id="cat_Nonmental_description">Verbs that describe an action go here</div>
								<div id="cat_Nonmental_examples">run, jump, dance</div>
								<div id="cat_Nonmental_features">[]</div>
						</div>
						<div id="cat_childset_Event_0">
								<strong>Select a sub-category under Event:</strong> (<a href="#" onClick="backTo('Event')">Deselect Event</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Event_0" value="cat_Goal">&nbsp;<span id="cat_Goal">Goal</span></td>
										<td id="td_description-cat_Goal"></td>
										<td id="td_examples-cat_Goal"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Event_0" value="cat_Nongoal">&nbsp;<span id="cat_Nongoal">Nongoal</span></td>
										<td id="td_description-cat_Nongoal"></td>
										<td id="td_examples-cat_Nongoal"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_childset_Event_1">
								<strong>Select a sub-category under Event:</strong> (<a href="#" onClick="backTo('Event')">Deselect Event</a>)<br>
								<table class="thintable"><tr><th>Type</th><th>Description</th><th>Sample Instances</th></tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Event_1" value="cat_Activity">&nbsp;<span id="cat_Activity">Activity</span></td>
										<td id="td_description-cat_Activity"></td>
										<td id="td_examples-cat_Activity"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Event_1" value="cat_Accomplishment">&nbsp;<span id="cat_Accomplishment">Accomplishment</span></td>
										<td id="td_description-cat_Accomplishment"></td>
										<td id="td_examples-cat_Accomplishment"></td>
								</tr>
								<tr>
										<td nowrap><input type="radio" name="cat_radio_Event_1" value="cat_Achievement">&nbsp;<span id="cat_Achievement">Achievement</span></td>
										<td id="td_description-cat_Achievement"></td>
										<td id="td_examples-cat_Achievement"></td>
								</tr>
								</table>
								<br>
						</div>
						<div id="cat_Event_dialog" style="display:none">
								<div id="cat_Event_description">A thing that happens or takes place, especially one of importance.</div>
								<div id="cat_Event_examples">party, graduation, earthquake</div>
								<div id="cat_Event_features">[{"feature_name":"manner","example":"It happened in a slow and uneventful manner","explain":"describes how the event unfolded."}]</div>
						</div>
						<div id="cat_Goal_dialog" style="display:none">
								<div id="cat_Goal_description">Describes goal-oriented events.</div>
								<div id="cat_Goal_examples">purchase, study</div>
								<div id="cat_Goal_features">[{"feature_name":"purpose","example":"The objective of studying is to get good grades","explain":"describes the objectives of goal-oriented actions."}]</div>
						</div>
						<div id="cat_Nongoal_dialog" style="display:none">
								<div id="cat_Nongoal_description">Describes events that occur either spontaneously or unintentionally, like an accident.</div>
								<div id="cat_Nongoal_examples">accident, volcano eruption</div>
								<div id="cat_Nongoal_features">[]</div>
						</div>
						<div id="cat_Activity_dialog" style="display:none">
								<div id="cat_Activity_description">Details a process that does not entail a change of state (when going on a run you are running throughout the session) and can either end or culminate in an achievement or accomplishment.</div>
								<div id="cat_Activity_examples">think, run</div>
								<div id="cat_Activity_features">[]</div>
						</div>
						<div id="cat_Accomplishment_dialog" style="display:none">
								<div id="cat_Accomplishment_description">Accomplishments involve a change of state, often with a process involved (John drove to the store in an hour).</div>
								<div id="cat_Accomplishment_examples">John built a house, John finished building the house.</div>
								<div id="cat_Accomplishment_features">[]</div>
						</div>
						<div id="cat_Achievement_dialog" style="display:none">
								<div id="cat_Achievement_description">Details the change of state that took place but omits the process which caused the change of state.</div>
								<div id="cat_Achievement_examples">John reached the summit in an hour., Tom won the game</div>
								<div id="cat_Achievement_features">[]</div>
						</div>
						<!-- End java generated html -->

                        <div id="kt_halfway" style="display:none">
                            <h5>Does this noun belong to following type?</h5>
                            <br />
                            <a href="#" onClick="toggleInstruction('instruction_type')">Show/Hide additional instructions...</a><br />
                            <div id="instruction_type">
                                <ul>
                                    <li>Remember to choose the kind based on the understanding from the context provided in the sentences</li>
                                </ul>
                            </div>
                            <br />
                            <div>
                                <strong>Type: <span id="h_kt_name"></span></strong><br />
                                <span id="h_kt_desc"></span><br />
                                <input type="radio" name="h_kt_radio" value="yes" /> Yes<br />
                                <input type="radio" name="h_kt_radio" value="no" /> No<br />
                                <br />
                            </div>
                        </div>

                        <div id="kt_selection" style="display:none">
                            <table id="kt_table">
                                <caption>
                                    <a href="#" onclick="jQuery('#kt_table').treetable('expandAll'); return false;">Expand all</a
                                    >&emsp;
                                    <a href="#" onclick="jQuery('#kt_table').treetable('collapseAll'); return false;">Collapse all</a>
                                </caption>
                                <thead>
                                    <tr>
                                        <th nowrap>Type</th>
                                        <th>Description</th>
                                        <th>Sample Instances</th>
                                    </tr>
                                </thead>
                                <tbody id="kt_table_body">
                                    <tr>
                                        <td><input type="radio" name="radio_ktname" value="NOMATCH" /> None of the above</td>
                                        <td>None of the above kinds apply / I have a more specific kind in mind</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>

                            <p><br /><a href="#" id="button1_to_stage3" class="btn btn-info">Next</a></p>
                        </div>

                        <div id="kt_suggest" style="display:none">
                            <h5><b>Subtask 2:</b> Please suggest a new "kind"/representative group for the noun</h5>
                            <a href="#" onClick="toggleInstruction('instruction_newtype')">Toggle additional instructions...</a>
                            <div id="instruction_newtype">
                                <ul>
                                    <li>Think of a representative group for the noun which captures conceptually similar nouns (e.g. "heat" might belong to "NATURAL_STATE" kind which can also identify "humidity, pressure,etc")</li>
                                    <li>Remember to assign a kind based on your understanding of the noun given the example sentences.</li>
                                </ul>
                            </div>
                            <br />
                            Name of the new kind: <input type="text" name="suggested_kt" /><br /><br />
                            <div id="parent_kt_question" style="display:none">
                                <h5>Do any of the following existing kinds, identify as a <b>parent</b> to the new kind?</h5>
                                <table id="parent_kt_table">
                                    <caption>
                                        <a href="#" onclick="jQuery('#parent_kt_table').treetable('expandAll'); return false;">Expand all</a
                                        >&emsp;
                                        <a href="#" onclick="jQuery('#parent_kt_table').treetable('collapseAll'); return false;">Collapse all</a>
                                    </caption>
                                    <thead>
                                        <tr>
                                            <th nowrap>Type</th>
                                            <th>Description</th>
                                            <th>Sample Instances</th>
                                        </tr>
                                    </thead>
                                    <tbody id="parent_kt_table_body">
										<tr>
											<td><input type="radio" name="radio_parent_ktname" value="NONE" /> No parent kind</td>
											<td>No parent kind is suitable</td>
											<td></td>
										</tr>
									</tbody>
                                </table>
                                
                            </div>
                            <p><br /><a href="#" id="button2_to_stage3" class="btn btn-info">Next</a></p>
                        </div>

                        <div id="feature_filling" style="display:none">
                            <h5>...Title...</h5>
                            <br />
                            <a href="#" onClick="toggleInstruction('instruction_features')">Show/Hide additional instructions...</a><br />
                            <div id="instruction_features">...instructions...</div>
                            <br />
                            <div id="feature_list_area"></div>
                            <p><br /><a href="#" id="button3_to_stage4" class="btn btn-info">Next</a></p>
                        </div>

                        <br /><a href="#" id="continue-subtask" class="btn btn-info" style="display:none">Next Subtask</a>
                    </div>
                    <!-- card body end -->

                    <div id="selected_cat_display" class="card-footer">
                        <div id="selected_cat_display" style="color: gray; font-style: italic"></div>
                        &nbsp;
                    </div>
                </div>
                <!-- card end -->
            </div>
            <!-- col end -->
        </div>
        <!-- row end -->

        <div class="row mb-3">
            <div class="col">
                <div class="card">
                    <div class="card-header">Expanded task brief and information <a href="#" data-toggle="collapse" data-target="#card1" style="font-size:0.6rem;font-weight:bold"> (Click to collapse/expand) </a></div>
                    <div id="card1" class="collapse show">
                        <div class="card-body">
                            <p><b>Task description:</b> You will be presented with a noun and example sentences containing the noun. <mark>Based on your understanding of the noun in the provided sentences,</mark> we require you to:</p>

                            <!--<p><b>Note:</b> To save your time, you can skip/collapse the below and start the task from the task page below. The task layout is designed to be intuitive and instructions are provided within. </p>-->
                            <ol>
                                <li><b>Subtask 1- Category Selection (40% time):</b> Select relevant categories from given options.</li>
                                <li>
                                    <b>Subtask 2- "Kind" assignment (10% time):</b> Assign a representative "kind" to the noun. A "kind" is a suitable group to which the noun belongs. Some examples:
                                    <ul>
                                        <li>tiger -> "MAMMAL"</li>
                                        <li>gear, vehicle -> "VEHICLE_PARTS"</li>
                                        <li>time, length -> "ABSTRACT_UNIVERSAL_MEASURE"</li>
                                    </ul>
                                </li>
                                <li><b>Subtask 3- Feature filling (50% time):</b> Provide <b>general/layman's</b> information for the noun.</li>
                            </ol>
                            <!--<p><b>Expanded instructions:</b> Available within the task page upon beginning the task.</p>-->
                            <p><b>Estimated time for task:</b> 10 minutes (timing is not considered in quality checks)</p>
                            <p><b>Feedback options: </b> Optional form provided at the end of the task (incase of issues with task layout, instructions complexity or remuneration, etc)</p>
                            <p class="well well-sm">
                                <strong><mark>Quality of work: </mark></strong>
                                We will be performing rigorous quality checks for collected responses. If your work is consistently incomplete, low quality or frequently disagreeing with the responses of other workers, we might have to reject your work.
                            </p>
                            <a href="#" onclick="startTask()" class="btn btn-info">Continue</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- container end -->

    <div id="last_box" style="display:none">
        <!-- outside container because last step will hide all div -->
        <h3>Thank you for your help!<br />You can now click submit to complete the task.</h3>
        <p>
            <b>(ONLY FOR CHEEM TESTING)</b> If you have time, please provide detailed feedback from the following google form: <a href="https://goo.gl/forms/2uuZe1w7TswccHvl1" target="_blank">Form Link (opens in new tab).</a> <b><mark>Don't forget to click the submit button</mark></b>
        </p>
        <p>Do you have any feedback or comments that would help improve our task? Feel free to write it here or e-mail to <a href="mailto: jaiswals_shantanu@scei.a-star.edu.sg">jaiswals_shantanu@scei.a-star.edu.sg</a>, we will do our best to take into consideration.</p>

        <table id="feedback" style="width:100%" class="p-3">
            <tr>
                <td>
                    Feedback:
                    <textarea name="feedback_content" style="width:100%" rows="4"></textarea>
                </td>
            </tr>
        </table>

        <crowd-button form-action="submit" variant="primary">Submit</crowd-button>
    </div>

    <script>
        //IMPORTANT:
        //---- ------->FOR NOW, I am removing the KT "PART" since it seems slightly distractive/not in usual flow of program and already exists as NATURAL and SOCIALPART { "type": "kind_type", "name": "PART", "parents": ["ENTITY", "PHYSICAL", "REAL"], "instances": ["bottom", "top", "part", "base_2"], "description": "Refers to general physical parts (both NATURAL and SOCIAL)", "children": [], "feature_types": [] },

        const allKindTypes = [
            { type: "kind_type", name: "SPEECH_TERMS", parents: ["ENTITY", "ABSTRACT", "ABSTRACTEVENT"], instances: ["sentence", "speech", "talk", "discourse"], description: "", children: [], feature_types: [] },
            { type: "kind_type", name: "IDEAL_STATE", parents: ["ENTITY", "ABSTRACT", "ABSTRACTSTATIVE"], instances: ["law", "peace", "justice", "order_1", "standard"], description: "", children: [], feature_types: [] },
            { type: "kind_type", name: "COGNITIVE_ACTIVITY", parents: ["ENTITY", "ABSTRACT", "ABSTRACTEVENT"], instances: ["thought", "dream"], description: "", children: [], feature_types: [] },
            { type: "kind_type", name: "ABSTRACT_EMOTIONAL_STATE", parents: ["ENTITY", "ABSTRACT", "ABSTRACTSTATIVE", "RELATIONAL_STATE"], instances: ["sorrow", "love"], description: "", children: [], feature_types: [] },
            { type: "kind_type", name: "RELATIONAL_STATE", parents: ["ENTITY", "ABSTRACT", "ABSTRACTSTATIVE"], instances: ["sorrow", "understanding", "compliance", "love", "consensus"], description: "", children: ["ABSTRACT_EMOTIONAL_STATE"], feature_types: [] },
            { type: "kind_type", name: "INSTITUTION", parents: ["ENTITY", "SENTIENT", "REAL", "SOCIAL"], instances: ["organization", "company", "mro", "clinic", "aviation_1", "department"], description: "An institution is a collective entity that works towards a goal, and is a byproduct/part of society. ", children: ["COMPANY"], feature_types: [{ feature_name: "structure", example: "", explain: "" }] },
            { type: "kind_type", name: "MAMMAL", parents: ["VERTEBRATE", "ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["primate", "bovine"], description: "A mammal is a vertebrate that generally is nourished with milk at young age, has hair on skin and is warm-blooded. For example, humans, bears, tiger.", children: ["BOVINE", "PRIMATE"], feature_types: [] },
            { type: "kind_type", name: "PHYSICAL_QUALITY", parents: ["ENTITY", "QUALITY", "ABSTRACT"], instances: ["reliability", "airworthiness", "safety"], description: "This refers to abstract concepts in language that serve to convey the PHYSICAL quality of an object (such as it\u0027s reliability, effectiveness, etc)", children: [], feature_types: [] },
            { type: "kind_type", name: "COMMUNICATIVE_EVENT", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "SOCIAL"], instances: ["order_4", "instruction"], description: "Refers to nouns denoting a communicative event between two entities.", children: [], feature_types: [] },
            { type: "kind_type", name: "DOMESTIC_VERTEBRATE", parents: ["DOMESTIC_ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["domestic_bird"], description: "A domestic (one that is groomed in presence of sentients) vertebrate (an animal possessing a backbone/spine) such as fish, reptiles, mammals, birds and amphibians. ", children: [], feature_types: [] },
            { type: "kind_type", name: "PRODUCT", parents: ["ENTITY", "SOCIAL", "REAL", "NONLIVING", "PHYSICAL"], instances: [], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "PLANT", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["tree"], description: "A plant based entity", children: [], feature_types: [] },
            { type: "kind_type", name: "COGNITIVE_CONCEPTION", parents: ["ENTITY", "QUANTITY", "ABSTRACT"], instances: ["understanding_1", "knowledge"], description: "This refers to concepts that denote abstract cognitive phenomena that can be measured empirically", children: [], feature_types: [] },
            { type: "kind_type", name: "KITCHEN_TOOL", parents: ["MANMADEOBJ", "ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["knife"], description: "A tool found/used in the kitchen or for it\u0027s related activities.", children: [], feature_types: [] },
            { type: "kind_type", name: "REGION", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "NONLIVING", "NATURAL"], instances: ["range"], description: "Refers to a collective region spanning an area.", children: [], feature_types: [] },
            { type: "kind_type", name: "NATURAL_STATE_GROUP", parents: ["ENTITY", "STATE", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "NATURAL"], instances: ["summer", "winter "], description: "Refers to the natural states of the world that are thought of in a collective sense.", children: [], feature_types: [] },
            { type: "kind_type", name: "MANMADESYSTEM", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["system"], description: "A manmade system comprising of multiple entities. It differs from an INSTITUTION since it is not SENTIENT.", children: [], feature_types: [] },
            { type: "kind_type", name: "DOMESTIC_ANIMAL", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["domestic_vertebrate", "steer"], description: "Refers to domestic (brought up in the presence of sentients in a SOCIAL setting) animals ", children: [], feature_types: [] },
            { type: "kind_type", name: "HERD", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["drove"], description: "A herd refers to a large group of animals, and in this case, observed in a SOCIAL setting.", children: [], feature_types: [] },
            { type: "kind_type", name: "WORK", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "SOCIAL"], instances: [], description: "Refers to concepts related to the activity of working in a SOCIAL setting.", children: [], feature_types: [] },
            { type: "kind_type", name: "DOMESTIC_BIRD", parents: ["DOMESTIC_VERTEBRATE", "DOMESTIC_ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["chicken"], description: " Refers to a domestic (brought up in the presence of sentients in a SOCIAL setting) bird. ", children: [], feature_types: [] },
            { type: "kind_type", name: "EMOTIONAL_STATE", parents: ["ENTITY", "STATE", "RELATIONAL", "TEMPORAL", "REAL", "EMOTIONAL", "SOCIAL"], instances: ["love", "condition_2"], description: "Refers to an emotional state.....", children: [], feature_types: [] },
            { type: "kind_type", name: "COLLECTION", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["assemblage"], description: "A nonliving, nonselfmoving, social collection of objects.", children: [], feature_types: [] },
            { type: "kind_type", name: "NUMERICAL", parents: ["ENTITY", "QUANTITY", "ABSTRACT"], instances: ["one", "pi"], description: "An entity denoting a numerical/mathematical value.", children: [], feature_types: [] },
            { type: "kind_type", name: "SOCIAL_PEOPLE_GROUP", parents: ["ENTITY", "SENTIENT", "REAL", "SOCIAL"], instances: ["staff"], description: "A group comprising of social sentients that have a goal.", children: [], feature_types: [] },
            { type: "kind_type", name: "DOCUMENT", parents: ["MANMADEOBJ", "ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["pdf", "report"], description: "Refers to physical or virtual documents that have a purpose and other attributes.", children: [], feature_types: [] },
            { type: "kind_type", name: "COMPLEX", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["shopping mall"], description: "A social complex/system/structure composing of individual entities.", children: [], feature_types: [] },
            { type: "kind_type", name: "DISCOURSE", parents: ["ENTITY", "PROPOSITIONAL", "ABSTRACT"], instances: ["discourse"], description: "Involves collective concepts relating to communication", children: [], feature_types: [] },
            { type: "kind_type", name: "GOAL_ORIENTED_ACTIVITY", parents: ["ENTITY", "GOAL", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "ACTIVITY", "NONMENTAL", "SOCIAL"], instances: ["plan", "strategy", "program"], description: "Refers to social goal oriented activities.", children: [], feature_types: [] },
            { type: "kind_type", name: "FLORA", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["forest"], description: "Relating to a group of plant like entities.", children: [], feature_types: [] },
            { type: "kind_type", name: "ACT_OF_GOD", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "NATURAL"], instances: ["hurricane", "earthquake"], description: "Refers to natural nonmental event based nouns.", children: [], feature_types: [] },
            { type: "kind_type", name: "MUTUAL_STATE", parents: ["ENTITY", "STATE", "RELATIONAL", "TEMPORAL", "REAL", "MENTAL", "SOCIAL"], instances: ["understanding_2", "agreement", "order_3", "disagreement"], description: "Refers to concepts denoting a mutual state between two entities- mostly sentients.", children: [], feature_types: [] },
            { type: "kind_type", name: "PEOPLE_EVENT", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "SOCIAL"], instances: ["meeting", "party"], description: "Refers to social events involving people/sentients.", children: [], feature_types: [] },
            { type: "kind_type", name: "ROLE", parents: ["ENTITY", "SENTIENT", "REAL", "SOCIAL"], instances: ["secretary", "nurse"], description: "Refers to a specific SOCIAL role", children: [], feature_types: [{ feature_name: "relation_income", example: "", explain: "" }] },
            { type: "kind_type", name: "MINERAL", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "NATURAL"], instances: ["rock"], description: "Refers to naturally occuring minerals.", children: [], feature_types: [] },
            { type: "kind_type", name: "FLEET", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["armada"], description: "Refers to a collection of social objects. ", children: [], feature_types: [] },
            { type: "kind_type", name: "NATURAL_PLACE", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "NONLIVING", "NATURAL"], instances: ["mountain"], description: "Refers to a natural place in this universe", children: [], feature_types: [] },
            { type: "kind_type", name: "PERSON", parents: ["ENTITY", "SENTIENT", "REAL", "NATURAL"], instances: ["woman", "man"], description: "Refers to a human being/person evoking SENTIENT attributes in contrast to the KT Human (which represents more PHYSICAL attributes)", children: [], feature_types: [{ feature_name: "relation", example: "", explain: "" }, { feature_name: "status", example: "", explain: "" }, { feature_name: "name", example: "", explain: "" }] },
            { type: "kind_type", name: "MEASURE", parents: ["ENTITY", "QUANTITY", "ABSTRACT"], instances: ["second", "inch"], description: "Refers to entities denoting the units of measurement of other entities.", children: [], feature_types: [] },
            { type: "kind_type", name: "DOMESTIC_PLANT", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["wheat"], description: "Refers to a domestic (grows in presence of sentients in a social setting) plant based entity.", children: [], feature_types: [] },
            { type: "kind_type", name: "CROP", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["wheat"], description: "Refers to a domestic (grows in presence of sentients in a social setting) plant based entity.", children: [], feature_types: [] },
            { type: "kind_type", name: "HUMAN", parents: ["PRIMATE", "MAMMAL", "VERTEBRATE", "ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["John"], description: "Refers to a human being in relation to its PHYSICAL attributes as opposed to the kind type PERSON (which refers to the more SENTIENT attributes)", children: [], feature_types: [] },
            { type: "kind_type", name: "HISTORICAL_EPOCH", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "MENTAL", "SOCIAL"], instances: ["renaissance"], description: "Refers to a span of time in which certain SOCIAL activities/development took place.", children: [], feature_types: [] },
            { type: "kind_type", name: "PRIMATE", parents: ["MAMMAL", "VERTEBRATE", "ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["human"], description: "Refers to a specific type of mammal relating to monkeys, apes, humans, etc", children: ["HUMAN"], feature_types: [] },
            { type: "kind_type", name: "COMPANY", parents: ["INSTITUTION", "ENTITY", "SENTIENT", "REAL", "SOCIAL"], instances: ["Boeing"], description: "A specific INSTITUTION that operates in society and works towards a goal.", children: [], feature_types: [] },
            { type: "kind_type", name: "ANIMAL", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["vertebrate", "elephant"], description: "Refers to a general ANIMAL (specializes into various types of ANIMALS).", children: ["VERTEBRATE"], feature_types: [{ feature_name: "sex", example: "", explain: "" }, { feature_name: "behaviour", example: "", explain: "" }] },
            { type: "kind_type", name: "SOCIAL_STATE_GROUP", parents: ["ENTITY", "SOCIAL", "REAL", "STATE", "RELATIONAL", "TEMPORAL"], instances: ["marriage"], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "CULTURE", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["e. coli"], description: "A microbial culture, is a method of multiplying microbial organisms by letting them reproduce in predetermined culture medium under controlled laboratory conditions.", children: [], feature_types: [] },
            { type: "kind_type", name: "NATURAL_PROCESS", parents: ["ENTITY", "GOAL", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "ACTIVITY", "NONMENTAL", "NATURAL"], instances: ["life_2", "process_2"], description: "A process existing in or produced by nature (rather than by the intent of human beings).", children: [], feature_types: [] },
            { type: "kind_type", name: "STUFF", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "NATURAL"], instances: ["gold"], description: "An unspecified material substance or aggregate of matter.", children: [], feature_types: [] },
            { type: "kind_type", name: "LOWER_ORDER_GROUP", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["mold"], description: "Refers to a species of lower lifeforms that do not move on their own such as plants or fungi", children: [], feature_types: [] },
            { type: "kind_type", name: "CHEMICAL", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING"], instances: ["base_3", "oil", "acid"], description: "Any basic substance that is used in or produced by a reaction involving changes to atoms or molecules.", children: [], feature_types: [] },
            { type: "kind_type", name: "BIRD", parents: ["VERTEBRATE", "ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["sparrow"], description: "Any animal which has wings, has a beak, is covered in feathers and lays eggs.", children: [], feature_types: [] },
            { type: "kind_type", name: "BOVINE", parents: ["MAMMAL", "VERTEBRATE", "ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["moose"], description: "Any of a subfamily of bovids including oxen, bison and their close relatives.", children: [], feature_types: [] },
            { type: "kind_type", name: "MANMADEPART", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["engine", "component"], description: "Refers to components of any man-made machines.", children: [], feature_types: [] },
            { type: "kind_type", name: "VERTEBRATE", parents: ["ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["bird", "fish"], description: "Any type of animal which possesses a backbone.", children: ["BIRD", "FISH", "MAMMAL"], feature_types: [] },
            { type: "kind_type", name: "FLOW_GROUP", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "NATURAL"], instances: ["river_system"], description: "Refers to the collective form of entities which flow.", children: [], feature_types: [] },
            { type: "kind_type", name: "MANMADEOBJ", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["document", "fuel", "kitchen_tool"], description: "Describes anything (whole object, not just components) made by man.", children: ["KITCHEN_TOOL", "FUEL", "DOCUMENT"], feature_types: [] },
            { type: "kind_type", name: "FISH", parents: ["VERTEBRATE", "ANIMAL", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["trout"], description: "Fish refer to any animals with gills and fins.", children: [], feature_types: [] },
            { type: "kind_type", name: "NATURALSYSTEM", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NATURAL"], instances: ["ecology"], description: "A biological classification based upon morphological and anatomical relationships and affinities considered in the light of phylogeny and embryology.", children: [], feature_types: [] },
            { type: "kind_type", name: "task", parents: ["SOCIAL_PROCESS", "ENTITY", "GOAL", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "ACTIVITY", "NONMENTAL", "SOCIAL"], instances: ["Household chores"], description: "A usually assigned piece of work often to be finished within a certain period of time.", children: [], feature_types: [] },
            { type: "kind_type", name: "MOVING_OBJECT", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["football"], description: "Any object that moves.", children: [], feature_types: [] },
            { type: "kind_type", name: "FLOW", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "NATURAL"], instances: ["river"], description: "Describes a steady, continuous stream or supply of something.", children: [], feature_types: [] },
            { type: "kind_type", name: "LOWER_ORDER", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["spore"], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "POST_GOAL_EVENT_RESULT", parents: ["ENTITY", "STATE", "RELATIONAL", "TEMPORAL", "REAL", "MENTAL", "SOCIAL"], instances: ["failure", "success"], description: "Describes the outcome of an event.", children: [], feature_types: [] },
            { type: "kind_type", name: "maintenance", parents: ["SOCIAL_PROCESS", "ENTITY", "GOAL", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "ACTIVITY", "NONMENTAL", "SOCIAL"], instances: ["rcm"], description: "Maintenence refers to the process of preserving a condition or situation or the state of being preserved.", children: [], feature_types: [] },
            { type: "kind_type", name: "IRREAL_GROUP", parents: ["ENTITY", "IRREAL", "ABSTRACT"], instances: ["host"], description: "An organization that holds an event to which others are invited.", children: [], feature_types: [] },
            { type: "kind_type", name: "PERSONALITY", parents: ["ENTITY", "QUALITY", "ABSTRACT"], instances: ["kindness"], description: "Personality refers to individual differences in characteristic patterns of thinking, feeling and behaving. ", children: [], feature_types: [] },
            { type: "kind_type", name: "PHYSICAL_STATE", parents: ["ENTITY", "STATE", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "SOCIAL"], instances: ["condition_1"], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "SOCIAL_PROCESS", parents: ["ENTITY", "GOAL", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "ACTIVITY", "NONMENTAL", "SOCIAL"], instances: ["process_1", "task", "maintenance", "replacement", "service", "repair", "inspection", "ransportation", "check", "engineering"], description: "A process that often involves human effort", children: [], feature_types: [] },
            { type: "kind_type", name: "NATURALPART", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NATURAL"], instances: ["hand"], description: "A part of an individual entity that occurs naturally.", children: [], feature_types: [] },
            { type: "kind_type", name: "BODY", parents: ["ENTITY", "SENTIENT", "REAL", "NATURAL"], instances: ["crowd", "mob"], description: "A collection of people", children: [], feature_types: [] },
            { type: "kind_type", name: "AREA", parents: ["ENTITY", "NONLIVING", "PHYSICAL", "REAL", "STATIONARY"], instances: [], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "CULTURE_GROUP", parents: ["ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "SOCIAL"], instances: ["pencillin"], description: "Defines a group of biological cultures", children: [], feature_types: [] },
            { type: "kind_type", name: "SOCIAL_EVENT", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "SOCIAL"], instances: ["release"], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "FAUNA", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "LIVING", "NATURAL"], instances: ["pod"], description: "The animals of a particular region, habitat or geological period.", children: [], feature_types: [] },
            { type: "kind_type", name: "EQUIPMENT", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["toolbox"], description: "The set of necessary tools, clothing, etc. for a particular purpose.", children: [], feature_types: [] },
            { type: "kind_type", name: "UBIQUITOUS_ABSTRACT_CONCEPTION", parents: ["ENTITY", "QUANTITY", "ABSTRACT"], instances: ["risk_1", "length", "value", "order_2", "time", "life_1"], description: "Refers to intangible everyday phenomena that cannot be felt using the five senses", children: [], feature_types: [] },
            { type: "kind_type", name: "AIR_VEHICLE", parents: ["VEHICLE", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["aircraft"], description: "Refers to a machine that is able to fly by gaining support form the air.", children: [], feature_types: [] },
            { type: "kind_type", name: "ARTIFACT", parents: ["ENTITY", "NONLIVING", "PHYSICAL", "REAL", "SOCIAL"], instances: ["machine??", "knife", "pickup", "house"], description: "Refers to any constructs which are made by humans.", children: [], feature_types: [{ feature_name: "operation", example: "A pencil  performs its function of writing by gripping the pencil shaft, placing the lead on the paper and moving the lead to create words.", explain: "Describes the performance and implementation of the function of a thing." }, { feature_name: "construction", example: "A shirt is constructed by sewing.", explain: "Details how the entity is constructed" }, { feature_name: "owner", example: "An airplane is owned by an airline.", explain: "Describes the owner of the entity." }] },
            { type: "kind_type", name: "VEHICLE", parents: ["ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["ground_vehicle", "air_vehicle", "automobile ", "ship"], description: "A thing used for transporting people or goods.", children: ["GROUND_VEHICLE", "AIR_VEHICLE"], feature_types: [] },
            { type: "kind_type", name: "GROUND_VEHICLE", parents: ["VEHICLE", "ENTITY", "SELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["bike", "car"], description: "...", children: [], feature_types: [{ feature_name: "movement_mechanism", example: "A car moves by burning fuel using its combustion engine, which causes its wheels to turn.", explain: "Describes the how the vehicle moves." }, { feature_name: "driver", example: "A car is driven by 1 driver.", explain: "Describes the nature of the driver." }, { feature_name: "crew", example: "For every 50 passengers on an airplane there is 1 cabin crew allocated.", explain: "Describes the crew of the vehicle." }, { feature_name: "passengers", example: "A car usually has space for 4 passengers.", explain: "Describes the passengers of the vehicle." }] },
            { type: "kind_type", name: "PLACE", parents: ["ENTITY", "NONLIVING", "PHYSICAL", "REAL", "STATIONARY"], instances: [], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "ACT_OF_GOD_GROUP", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "NONMENTAL", "NATURAL"], instances: ["monsoon"], description: "An instance of uncontrollable natural forces in operation.", children: [], feature_types: [] },
            { type: "kind_type", name: "COGNITIVE_ACTIVITY", parents: ["ENTITY", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "MENTAL", "NATURAL"], instances: ["thought"], description: "Describes activity relating to, being, or involving conscious intellectual activity.", children: [], feature_types: [] },
            { type: "kind_type", name: "PROPOSITION", parents: ["ENTITY", "PROPOSITIONAL", "ABSTRACT"], instances: ["sentence"], description: "A a statement putting forth an idea, suggestion or plan.", children: [], feature_types: [{ feature_name: "content", example: "The sentence contains an argument calling for the death penalty to be legalized", explain: "Describes the things that are held or included in something." }, { feature_name: "author", example: "This argument was put forth by John", explain: "Describes the person who originated or gave existence to the entity described" }, { feature_name: "haspart", example: "", explain: "Describes anything an entity has." }, { feature_name: "goal", example: "He presented his arguments with the goal of legalising euthanasia.", explain: "Describes the intended outcome." }, { feature_name: "function", example: "", explain: "Functions performed by the entity." }] },
            { type: "kind_type", name: "NATURAL_STATE", parents: ["ENTITY", "STATE", "RELATIONAL", "TEMPORAL", "REAL", "MENTAL", "NATURAL"], instances: ["heat"], description: "...", children: [], feature_types: [] },
            { type: "kind_type", name: "transportation", parents: ["SOCIAL_PROCESS", "ENTITY", "GOAL", "EVENT", "RELATIONAL", "TEMPORAL", "REAL", "ACTIVITY", "NONMENTAL", "SOCIAL"], instances: ["aviation_2"], description: "Describe the means of moving humans, animals or goods from one location to another.", children: [], feature_types: [] },
            { type: "kind_type", name: "SOCIAL_PLACE", parents: ["ENTITY", "STATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["base_1", "building"], description: "", children: [], feature_types: [] },
            { type: "kind_type", name: "IMAGINARY", parents: ["ENTITY", "IRREAL", "ABSTRACT"], instances: ["unicorn"], description: "Describes entities that are not real.", children: [], feature_types: [] },
            { type: "kind_type", name: "FUEL", parents: ["MANMADEOBJ", "ENTITY", "NONSELFMOVING", "NONSTATIONARY", "PHYSICAL", "REAL", "NONLIVING", "SOCIAL"], instances: ["cng", "gasoline", "petrol", "diesel"], description: "A fuel is any material that can be made to react with other substances so that it releases energy as heat energy or to be used for work.", children: [], feature_types: [] },
        ];

        var subKtTree = []; // this is the sub kt tree based on the selected root kt. Note: there is an additional attribute 'parentname' added for each kt in this tree.
        const root = "Entity";
        var stage = 0; // 0 - Welcome page; 1 - Select categories; 2 - Select kindtype; 3 - Submit data and end.
        const theInstance = setInstance();
        var selectedCategories = []; // names only
        var pendingChildSets = []; // names of the cat_childset_xx to be displayed for selection.

        tippy(".cat-option-text", {
            content: "Click for more information.",
        });

        // ***************************************************************************************
        // Define Functions
        // ***************************************************************************************

		function es(str) {
			return str.replace(/\//g, '\\/');
		}

        function setInstance() {
            // Auto select an available instance for this task;
            $("input[name='SelectedInstance']").val("bird");
            return "bird"; // TODO: get from database
        }
        // new change: there may be more than one kt match categories at same time
        function isTerminal() {
            selectedCategories.sort();
            let result = [];
            for (let i = 0; i < allKindTypes.length; i++) {
                let kt = allKindTypes[i];
                let parents = kt.parents.sort();
                if (arraysEqual(selectedCategories, parents)) {
                    result.push(kt.name);
                }
            }

            return result;
        }

        function arraysEqual(a, b) {
            if (a instanceof Array && b instanceof Array) {
                if (a.length != b.length)
                    // assert same length
                    return false;
                for (
                    var i = 0;
                    i < a.length;
                    i++ // assert each element equal
                )
                    if (!arraysEqual(a[i], b[i])) return false;
                return true;
            } else {
                return a == b; // if not both arrays, should be the same
            }
        }

        var featureNum = 1;
        function addFeatureValue(idstr) {
            $("#" + idstr).append('<input type="text" name="' + idstr + "_" + featureNum + '"><br>');
            ++featureNum;
        }

        function toggleInstruction(divid) {
            if ($("#" + divid).is(":visible")) {
                $("#" + divid).hide();
            } else {
                $("#" + divid).show();
            }
        }

        function selectCategory(catobj, catname) {
            selectedCategories.push(catname);
            $("div[id^='cat_childset_" + catname + "_']").each(function(){
                pendingChildSets.push($(this).prop('id'));
            });
            // show next category selection from pending list
            if(pendingChildSets.length > 0) {
                let catid = pendingChildSets[0];
                $("div[id='" + catid + "']").show();
                pendingChildSets.splice(0, 1);
                if(catobj != null) {
                    $("#" + catobj.name.replace("cat_radio_", "cat_childset_")).hide();
                }
            }
        }

        function stage_0() {
            stage = 0;
            $("#welcome_page").show();
        }

        function stage_1() {
            stage = 1;
            $("#welcome_page").hide();
            $("#instance_head").show();
            $("#the_instance").text(theInstance);
            $("#stage_1_head").show();

            // Add root
            selectCategory(null, root);
        }

        function stage_1_1(ktNameArray) {
            ktName = ktNameArray[0];
            $("#stage_1_head").hide();
            let $showlist = $("div[id^='cat_childset_']:visible");
            $showlist.hide();

            let kt = getKtByName(ktName);
            $("#h_kt_name").text(ktName);
            $("#h_kt_desc").text(kt.description);
            $("#kt_halfway").show();

            $("input[name='h_kt_radio']").on("click", function(e) {
                if ($(this).is(":checked")) {
                    let v = $(this).val();
                    if (v === "yes") {
                        $("#kt_halfway").hide();
                        stage_2([ktName]);
                    } else {
                        $("#kt_halfway").hide();
                        $("#stage_1_head").show();
                        $showlist.show();
                    }
                }
            });
        }

        function stage_2(ktNameArray) {
            $("div[id^='cat_childset_']:visible").hide();
            // clear stage 1 displays and show stage 2 head
            $("#stage_1_head").hide();
            $("#stage_2_head").show();

            for (let t = 0; t < ktNameArray.length; t++) {
                // get root kt
                let rootkt = getKtByName(ktNameArray[t]);
                // get the sub kindtype treee based on the root ktName
                appendSubKts(rootkt, "");
                // console.log("subKtTree : " + JSON.stringify(subKtTree));
            }

            // generate table rows
            let tbodyStr = "";
            for (let i = 0; i < subKtTree.length; i++) {
                let kt = subKtTree[i];
                tbodyStr += '<tr data-tt-id="' + kt.name + '" data-tt-parent-id="' + kt.parentname + '">';
                tbodyStr += '<td nowrap><input type="radio" name="radio_ktname" value="' + kt.name + '">&nbsp;' + kt.name + "</td>";
                tbodyStr += "<td>" + kt.description + "</td>";
                tbodyStr += "<td>" + kt.instances.join(", ") + "</td></tr>";
            }

            $("#kt_table_body").html(tbodyStr + $("#kt_table_body").html());
            $("#kt_table").treetable({ expandable: true, force: true });
            $("#kt_selection").show();
            $("#kt_table").treetable("expandAll");

            $("#button1_to_stage3").on("click", function(e) {
                var radioValue = $("input[name='radio_ktname']:checked").val();
                if (radioValue) {
                    if (radioValue === "NOMATCH") {
                        $("#stage_2_head").hide();
                        $("#kt_selection").hide();
                        stage_2_1(true);
                    } else {
                        stage_3(1); // case 1: select existing kt
                    }
                } else {
                    toastr["warning"]("Please select a type from the table.").attr("style", "width: 600px !important; background-image: none !important");
                }
            });
        }

        // No kindtype is found for the selected categories, ask user to suggest a new type
        function stage_2_1(getparent) {
            $("div[id^='cat_childset_']:visible").hide();
            $("#stage_1_head").hide();
            $("#kt_suggest").show();

            if (getparent) {
                // Select parent type of the new type
                let tbodyStr = "";
                for (let i = 0; i < subKtTree.length; i++) {
                    let kt = subKtTree[i];
                    tbodyStr += '<tr data-tt-id="' + kt.name + '" data-tt-parent-id="' + kt.parentname + '">';
                    tbodyStr += '<td nowrap><input type="radio" name="radio_parent_ktname" value="' + kt.name + '">&nbsp;' + kt.name + "</td>";
                    tbodyStr += "<td>" + kt.description + "</td>";
                    tbodyStr += "<td>" + kt.instances.join(", ") + "</td></tr>";
                }

                $("#parent_kt_table_body").html(tbodyStr + $("#parent_kt_table_body").html());
                $("#parent_kt_table").treetable({ expandable: true, force: true });
                $("#parent_kt_question").show();
                $("#parent_kt_table").treetable("expandAll");

                $("#button2_to_stage3").on("click", function(e) {
                    var textValue = $("input[name='suggested_kt']").val();
                    if (textValue && $.trim(textValue) !== "") {
                        var radioValue = $("input[name='radio_parent_ktname']:checked").val();
                        if (radioValue) {
                            stage_3(2); // case 2: new kt, with existing parents
                        } else {
                            toastr["warning"]("Please select a parent type.").attr("style", "width: 600px !important; background-image: none !important");
                        }
                    } else {
                        toastr["warning"]("Please enter suggested name of a new type.").attr("style", "width: 600px !important; background-image: none !important");
                        $("input[name='suggested_kt']").val("");
                    }
                });
            } else {
                // No parent type to select from
                $("#button2_to_stage3").on("click", function(e) {
                    var textValue = $("input[name='suggested_kt']").val();
                    if (textValue && $.trim(textValue) !== "") {
                        stage_3(3); // case 3: new kt, no parent
                    } else {
                        toastr["warning"]("Please enter suggested name of a new type.").attr("style", "width: 600px !important; background-image: none !important");
                        $("input[name='suggested_kt']").val("");
                    }
                });
            }
        }

		var cat_feature_list = []; // e.g. [{"catname":"PHYSICAL", "features":[...]}, {"catname":"XYZ", "features":[...]}]
        function stage_3(case_value) {
            // get all features of selected categories
            for (let i = 0; i < selectedCategories.length; i++) {
                let query = "#cat_" + es(selectedCategories[i]) + "_features";
                let objstr = $(query).text();
                //console.log("features for : "+query+"; before parse : "+objstr);
                let features = JSON.parse(objstr);
                //console.log(features);
                cat_feature_list.push({ catname: selectedCategories[i], features: features });
            }
            // get all features of parents plus selected kindtypes
            let kt_feature_list = []; // e.g. [{"ktname":"ABC", "features":[...]}, {"ktname":"EFG", "features":[...]}]
            switch (case_value) {
                case 1: // get feature of selected kt and parents
                    let ktname = $("input[name='radio_ktname']:checked").val();
                    let kt = getKtFromSubTree(ktname);
                    let parents = getParentKTs(kt.parentname);
                    kt_feature_list.push({ ktname: ktname, features: kt.feature_types });
                    for (let i = 0; i < parents.length; i++) {
                        kt_feature_list.push({ ktname: parents[i].name, features: parents[i].feature_types });
                    }
                    break;
                case 2: // get feature of parents
                    let parentname = $("input[name='radio_parent_ktname']:checked").val();
                    if (parentname !== "NONE") {
                        let parents2 = getParentKTs(parentname);
                        for (let i = 0; i < parents2.length; i++) {
                            kt_feature_list.push({ ktname: parents2[i].name, features: parents2[i].feature_types });
                        }
                    }
                    break;
                case 3: // no feature
                    break;
            }

			$("#stage_2_head").hide();
			$("#kt_selection").hide();
			$("#kt_suggest").hide();
			$("#feature_filling").show();

            // generate feature filling form
            // for (let i = 0; i < cat_feature_list.length; i++) {
            //     let cat = cat_feature_list[i].catname; // category
            //     let str = "<strong>" + cat + "</strong>";
            //     str += '<br><div id="userenter_catfeature_' + cat + '"></div>';
            //     str += '<a href="#" onclick="addFeatureValue(\'userenter_catfeature_' + cat + "')\">Add</a><br><br>";
            //     $("#feature_list_area").append(str);
            //     addFeatureValue("userenter_catfeature_" + cat);
            //     addFeatureValue("userenter_catfeature_" + cat);
            //     addFeatureValue("userenter_catfeature_" + cat);
            // }
			loopFeature(0);
        }

		function loopFeature(i) {
			if(i < cat_feature_list.length) {
                let cat = cat_feature_list[i].catname; // category
                let str = "<strong>" + cat + "</strong>";
                str += '<br><div id="userenter_catfeature_' + cat + '"></div>';
                str += '<a href="#" onclick="addFeatureValue(\'userenter_catfeature_' + cat + '\')">Add</a><br><br>';
                $("#feature_list_area").html(str);
                addFeatureValue("userenter_catfeature_" + cat);
                addFeatureValue("userenter_catfeature_" + cat);
                addFeatureValue("userenter_catfeature_" + cat);
				$("#button3_to_stage4").on("click", function(e) {
					if(i < cat_feature_list.length-1){
						loopFeature(i+1);
					} else {
						$("#instance_head").hide();
						$("#feature_filling").hide();
						stage_4("");
					}
				});
			} else {
				// next button
				$("#button3_to_stage4").on("click", function(e) {
					// validate at least 8 user entered features
					// let textCnt = 0;
					// $("input[name^='userenter_catfeature_']").each(function(i, obj) {
					// 	userText = $(obj).val();
					// 	if (userText && $.trim(userText) !== "") {
					// 		textCnt = textCnt + 1;
					// 	}
					// });
					// if (textCnt < 8) {
					// 	toastr["warning"]("Please enter at least 8 features before proceed to next task.").attr("style", "width: 600px !important; background-image: none !important");
					// 	return;
					// }

					$("#instance_head").hide();
					$("#feature_filling").hide();
					stage_4("");
				});
			}
		}

        function stage_4(v) {
            $("#d_hit").hide();
            $("#last_box").show();
        }

        function appendSubKts(kt, parentname) {
            kt.parentname = parentname;
            subKtTree.push(kt);
            // now cascade to children
            for (let i = 0; i < kt.children.length; i++) {
                let childname = kt.children[i];
                appendSubKts(getKtByName(childname), kt.name);
            }
        }

        // Return kindtype object for the given name, return null if not found.
        function getKtByName(ktname) {
            for (let i = 0; i < allKindTypes.length; i++) {
                if (allKindTypes[i].name === ktname) {
                    return allKindTypes[i];
                }
            }
            return null;
        }

        function getKtFromSubTree(ktname) {
            for (let i = 0; i < subKtTree.length; i++) {
                if (subKtTree[i].name === ktname) {
                    return subKtTree[i];
                }
            }
            return null;
        }

        function getParentKTs(parentname) {
            let plist = [];
            while (parentname && parentname !== "") {
                let parent = getKtFromSubTree(parentname);
                plist.push(parent);
                parentname = parent.parentname;
            }
            return plist;
        }

        // functions for revert category
        function backTo(objname) {
            // locate the parent div of obj
            let p = $("span[id='cat_" + objname + "']").parent();
            $(p).show();
            $(p).children("input").prop("checked", false);

            // traverse all grand children
            resetCat(objname);

            updateSelectedDisplay();
            $("#continue-subtask").hide();
        }

        // clear and hide categories recursivly, remove from selected array
        function resetCat(objname) {
            let i = selectedCategories.indexOf(objname);
            if (i >= 0) {
                selectedCategories.splice(i, 1);
            }
            let d = $("div[id^='cat_childset_" + objname + "_']");
            if ($(d).length > 0) {
                $(d).children("input").prop("checked", false);
                $(d).children("input").each(function() {
                        let name = this.value.substring(4);
                        resetCat(name);
                    });
                $(d).hide();

                $(d).each(function() {
                    let catid = $(this).prop('id');
                    let j = pendingChildSets.indexOf(catid);
                    if (j >= 0) {
                        pendingChildSets.splice(j, 1);
                    }
                });
            }
        }

        function updateSelectedDisplay() {
            // <span class="badge badge-pill badge-light">
            let badges = "";
            selectedCategories = selectedCategories.sort();
            for (let i = 0; i < selectedCategories.length; i++) {
                badges += '<span class="badge badge-pill badge-secondary">' + selectedCategories[i] + "</span> ";
            }
            $("#selected_cat_display").html("Selected Categories: " + badges);

            // show debug for pending categories
            let debugstr = "";
            for(let i=0; i<pendingChildSets.length; i++) {
                debugstr += pendingChildSets[i] + ", ";
            }
            console.log("debugstr = " + debugstr);
        }

        function showHIT() {
            // verify radio button selection
            if (!$("#check_consense_yes").prop("checked") && !$("#check_consense_no").prop("checked")) {
                alert("Please select one option from above.");
                return;
            }

            $("#d_consense").hide();
            $("#d_hit").show();
        }

        function startTask() {
            $("#card1").removeClass("show");
            $("#row_taskarea").show();
        }

        // ***************************************************************************************
        // Code run after document load
        // ***************************************************************************************

        $(function() {
            // hide all category questions
            $("div[id^='cat_childset_']").hide();

            // link span click to show toastr notifications
			/*
            $("span.cat-option-text").on("click", function(e) {
                var dialogname = this.id + "_dialog";
                let description = $("#" + this.id + "_description").text();
                let examples = $("#" + this.id + "_examples").text();

                var infostr = "";
                infostr += "<br><strong>Description:</strong><br>" + description;
                infostr += "<br><br><strong>Sample Instances:</strong><br>" + examples;
                // show pop window layer
                toastr.remove();

                toastr.options = {
                    timeOut: 10000,
                    extendedTimeOut: 8000,
                    tapToDismiss: false,
                    closeButton: true,
                    positionClass: "toast-top-center",
                    showMethod: "slideDown",
                    hideMethod: "slideUp",
                };

                toastr["info"](infostr, "Category: " + this.id.split("_")[1]).attr("style", "width: 600px !important; background-image: none !important");
            });
			*/

			$("td[id^='td_description-cat_']").each(function() {
				let fullid = $(this).prop('id');
				let catname = fullid.substring(19);
				// console.log("check substring, td_description-cat_ " + catname);
				// find the dialog contains description and sample
				let newtext = $(es("#cat_"+catname+"_description")).text();
				$(this).text(newtext);
			});

			$("td[id^='td_examples-cat_']").each(function() {
				let fullid = $(this).prop('id');
				let catname = fullid.substring(16);
				console.log("check substring, td_examples-cat_ " + catname);
				// find the dialog contains description and sample
				let newtext = $(es("#cat_"+catname+"_examples")).text();
				$(this).text(newtext);
			});

            // when a category is selected
            $("input[name^='cat_radio_']").on("click", function(e) {
                // verify the radio button is selected
                if ($(this).is(":checked")) {
                    let v = $(this).val();
                    // validate the value is correct
                    if (v.startsWith("cat_")) {
                        let c = v.split("_")[1]; // category name
                        // store selected value in selected array
                        if (!selectedCategories.includes(c)) {
                            selectCategory(this, c);
                        }

                        // get all sibling names
                        let thisname = $(this).prop("name");
                        let siblings = $("input[name='" + thisname + "'");
                        for (let x = 0; x < siblings.length; x++) {
                            let vx = $(siblings[x]).val();
                            let cx = vx.split("_")[1];
                            if (cx != c) {
                                let i = selectedCategories.indexOf(cx);
                                if (i >= 0) {
                                    selectedCategories.splice(i, 1);
                                }
                            }
                        }
                        updateSelectedDisplay();

                        // let chs = $("div[id^='cat_childset_" + c + "_']");
                        // if ($(chs).length > 0) {
                        //     // display child categories if any
                        //     $(chs).show();
                        //     // only hide this category if there is children to show. This is to remain the option for user to change the category
                        //     $("#" + this.name.replace("cat_radio_", "cat_childset_")).hide();
                        // }

                        // check if current categories match any kindtype
                        let kt = isTerminal(); //return an array
                        let shown = $("div[id^='cat_childset_']:visible").length;
                        let allselected = false; // does all leaf childsets selected by user?
                        if (shown === $("input[name^='cat_radio_']:visible:checked").length) {
                            allselected = true;
                        }

                        if (kt !== null && kt.length > 0) {
                            // enter stage 2 for kindtypes
                            updateSelectedDisplay();
                            if (allselected) {
                                $("#continue-subtask").on("click", function(e) {
                                    stage_2(kt);
                                    $(this).hide();
                                });
                                $("#continue-subtask").show();
                            } else {
                                // This the the case where there are still more categories but already matched a kindtype e.g. 'PART'
                                stage_1_1(kt);
                            }
                        } else {
                            updateSelectedDisplay();
                            if (allselected) {
                                $("#continue-subtask").on("click", function(e) {
                                    stage_2_1(false);
                                    $(this).hide();
                                });
                                $("#continue-subtask").show();
                            }
                        }
                    } else if (v === "NO_CHOICE") {
                        // User unable to choose a category, end all
                        stage_4(v);
                    }
                }
            });

            stage_0();
        });
    </script>
</crowd-form>
